package Graphics;

import Main.Main;

public class Render3D extends Render {
	private double left, right, forward, backward;
	private boolean IsL, IsR, IsF, IsB;

	public Render3D(int w, int h, Screen s) {
		super(w, h, s);
		left = -0.5;
		right = 0.5;
		forward = 0.8;
		backward = 0.8;
	}

	public void Floor() {
		double rot = Main.GameTime / 110.0;
		double sine = Math.sin(rot);
		double cosine = Math.cos(rot);
		for (int y = 0; y < getHeight(); y++) {
			double ydepth = ((y - (getHeight() / 2.0)) / getHeight());
			double z = 10 / ydepth;
			if (ydepth < 0)
				z = 8 / -ydepth;
			for (int x = 0; x < getWidth(); x++) {
				double xdepth = ((x - (getWidth() / 2.0)) / getHeight());
				xdepth *= z;
				int xx = (int) (xdepth * cosine + z * sine);
				int yy = (int) ((z * cosine - xdepth * sine));
				if (IsL) xx + (int) left;
				screen.setPixelsfull(x + (y * getWidth()), ((xx & 15) << 4) | ((yy & 15) << 4) << 8);
			}
		}
	}
}