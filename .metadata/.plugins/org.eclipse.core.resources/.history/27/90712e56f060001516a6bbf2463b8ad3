package Objects;

import Base.Main;
import Level.Wall;

public class Moving_Wall extends Wall {
	protected char MovePos = 'a';
	protected double Movspeed = 0;
	protected int Time = 0, Timer = 0;

	public Moving_Wall(float x, float y, int w, int h, char m, double speed, int time) {
		super(x, y, w, h);
		MovePos = m;
		Time = time;
		Movspeed = speed;
	}

	public void Update() {
		Timer++;
		if (MovePos == 'v') {
			if (Timer <= Time)
				this.y += Movspeed;
			else {
				if (Timer <= Time * 2)
					this.y -= Movspeed;
				else
					Timer = 0;
			}
		} else if (MovePos == 'h') {
			if (Timer <= Time)
				this.y += Movspeed;
			else {
				if (Timer <= Time * 2)
					this.y -= Movspeed;
				else
					Timer = 0;
			}
		}
	}

	public boolean CheckCol(float x, float y, int w, int h) {
		int xa = (int) x;
		int ya = (int) y;
		if (xa + 27 >= this.getX() && xa + 5 <= this.getX() + this.getWidth() && ya + 32 >= this.getY() && ya + 32 <= this.getY()) {
			Main.player.setGravity(false);
			Main.player.setY(this.y - 32);
			return true;
		} else {
			Main.player.setGravity(true);
		}
		return false;
	}
}