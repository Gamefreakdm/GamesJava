package Graphics;

public class AnimatedSprite {
	private int frame = 0;
	private Sprite sprite;
	private int rate = 5;
	private int length = -1;
	private Sprite[] sprites;

	public static AnimatedSprite test = new AnimatedSprite(SpriteSheet.Player, 16, 16);

	public AnimatedSprite(SpriteSheet sheet, int ss, int length) {
		this.length = length;
		sprites = new Sprite[length];
		this.unload(sheet, ss);
		sprite = sprites[3];
	}

	private void unload(SpriteSheet sheet, int ss) {
		int liter = 0;
		for (int y = 0; y < sheet.getSize(); y++) {
			for (int x = 0; x < sheet.getSize(); x++) {
				if (liter << 4 == x && liter << 4 == y) {
					sprites[liter] = new Sprite(sheet.getPixels()[x + (y * ss)], ss);
					liter++;
				}
			}
		}
	}

	public void Update() {
		if (frame > length)
			frame = 0;
		else
			frame++;
	}

	public Sprite getSprite() {
		return sprite;
	}

	public void setFrameRate(int frames) {
		this.rate = frames;
	}
}